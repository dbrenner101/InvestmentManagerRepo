<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
    <entry key="investmentById">
        <![CDATA[
            SELECT * FROM investments WHERE investment_id = ?;
        ]]>
    </entry>
    <entry key="investmentsFindBySymbol">
        <![CDATA[
            SELECT * FROM investments WHERE symbol = ?;
        ]]>
    </entry>
    <entry key="investmentFindLikeSymbol">
        <![CDATA[
            SELECT * FROM investments WHERE symbol = ?%;
        ]]>
    </entry>
    <entry key="investmentsAllOrderedByCompanyName">
        <![CDATA[
            SELECT * FROM investments ORDER BY company_name ASC;
        ]]>
    </entry>
    <entry key="investmentsAllOrderedBySymbol">
        <![CDATA[
            SELECT * FROM investments ORDER BY symbol ASC;
        ]]>
    </entry>
    <entry key="investmentsAllForHoldingsOrderedBySymbol">
        <![CDATA[
            SELECT DISTINCT(i.symbol), i.investment_id 
            FROM investments i, holdings h 
            WHERE i.investment_id = h.investment_id ORDER BY i.symbol;
        ]]>
    </entry>
    <entry key="investmentsAllForHoldingsWithQuotesOrderedBySymbol">
        <![CDATA[
            SELECT DISTINCT(i.symbol), i.investment_id, i.company_name, i.exchange, i.sector, i.investment_type, MAX(q.quote_date) as quote_date
			FROM investments i  
			RIGHT JOIN holdings h ON i.investment_id = h.investment_id 
			LEFT JOIN quotes q on q.investment_id = i.investment_id 
			WHERE h.quantity > 0
			GROUP BY i.symbol, i.investment_id, i.company_name, i.exchange, i.sector, i.investment_type
			ORDER by i.symbol
        ]]>
    </entry>
    <entry key="investmentsUniqueForHoldingsOrderBySymbol">
        <![CDATA[
            SELECT * 
            FROM investments 
            WHERE investment_id IN (
                SELECT investment_id 
                FROM holdings 
                WHERE quantity > 0
            ) 
            ORDER BY symbol
        ]]>
    </entry>
    <entry key="investmentDelete">
        <![CDATA[
            DELETE FROM investments WHERE investment_id = ?;
        ]]>
    </entry>
    <entry key="investmentInsert">
        <![CDATA[
            INSERT INTO investments(company_name, exchange, sector, symbol, investment_type) 
            VALUES (?, ?, ?, ?, ?);
        ]]>
    </entry>
    <entry key="investmentUpdate">
        <![CDATA[
            UPDATE investments SET company_name=?, exchange=?, sector=?, symbol=?, investment_type=? 
            WHERE investment_id=?;
        ]]>
    </entry>
</properties>